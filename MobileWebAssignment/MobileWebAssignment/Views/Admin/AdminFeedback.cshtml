@{
	Layout = "_AdminLayout";
	ViewBag.Title = "Admin | Feedback";
}

@model IEnumerable<FeedbackInsertVM>

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="/css/AdminCss/AdminFeedback.css" asp-append-version="true">

</head>
<body>
	<div class="reviews-container">

		<div class="header">
			<h2>Reviews</h2>
			<span class="date-range">March 2021 - February 2022</span>
		</div>

		<!-- Filter Section -->
		<div class="filtering">
			<label for="attraction"><b>Attraction:</b></label>
			<select id="attraction" name="attraction">
				<option value="all">All Attractions</option>
				@foreach (var a in ViewBag.attractions)
				{
					<option value="@a.Id">@a.Name</option>
				}
			</select>
		</div>

		<div id="target">
			<partial name="_AdminFeedback" />
		</div>
	</div>
</body>
</html>
<script>
		// Get all 'Reply' buttons on the page
	const replyButtons = document.querySelectorAll('#replyButton');

	// Get all 'View Comment' buttons on the page
	const viewCommentButtons = document.querySelectorAll('#viewComment');

		// Reply Button Logic
	replyButtons.forEach(button => {
		button.addEventListener('click', function() {
			const actionsDiv = this.closest('.review').querySelector('.actions');
			actionsDiv.style.display = (actionsDiv.style.display === 'none' || actionsDiv.style.display === '') ? 'block' : 'none';
		});
	});

	// View Comment Button Logic
	viewCommentButtons.forEach(button => {
		button.addEventListener('click', function() {
			const replyListDiv = this.closest('.review').querySelector('#replyList');
			replyListDiv.style.display = (replyListDiv.style.display === 'none' || replyListDiv.style.display === '') ? 'block' : 'none';
		});
	});

</script>
<script>
	// Attach event listener to form submit
	document.querySelector('form').addEventListener('submit', function(event) {
		var commentField = document.querySelector('textarea[name="comment"]');
		if (!commentField.value.trim()) {  // Check if the textarea is empty or only spaces
			alert("Comment cannot be empty.");
			event.preventDefault();  // Prevent form submission
		}
	});
</script>


